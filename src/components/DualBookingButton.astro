---
// Ce composant offre un choix entre l'ancien et le nouveau système de réservation
// Utile pour tester le nouveau système tout en gardant l'ancien opérationnel

const { id, showChoice = false } = Astro.props;
---

{showChoice ? (
  <div class="flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-3">
    <a href="/reservation">
      <button
        id={`${id}-old`}
        type="button"
        class="rounded-lg bg-blue-700 px-4 py-2 text-center text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
      >
        Réserver (actuel)
      </button>
    </a>
    <a href="/reservation-new">
      <button
        id={`${id}-new`}
        type="button"
        class="rounded-lg bg-green-600 px-4 py-2 text-center text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-4 focus:ring-green-300 dark:bg-green-500 dark:hover:bg-green-600 dark:focus:ring-green-800"
      >
        Réserver (nouveau)
      </button>
    </a>
    <span class="hidden md:block text-xs dark:text-gray-400 self-center">
      (Le nouveau système est en phase de test)
    </span>
  </div>
) : (
  <div class="flex space-x-3 md:order-2 md:space-x-0 rtl:space-x-reverse">
    <a href="/reservation-new">
      <button
        id={id}
        type="button"
        class="rounded-lg bg-blue-700 px-4 py-2 text-center text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
      >
        Réserver
      </button>
    </a>
    <button
      data-collapse-toggle="navbar-sticky"
      type="button"
      class="inline-flex h-10 w-10 items-center justify-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 md:hidden dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
      aria-controls="navbar-sticky"
      aria-expanded="false"
    >
      <span class="sr-only">Ouvrir le menu</span>
      <svg
        class="h-5 w-5"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 17 14"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M1 1h15M1 7h15M1 13h15"
        ></path>
      </svg>
    </button>
  </div>
)}
